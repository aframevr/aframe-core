<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Pivot</title>
    <meta name="description" content="Pivot - A-Frame Core">
    <link rel="stylesheet" type="text/css" href="../../style/aframe-core.css">
    <link rel="stylesheet" type="text/css" href="../_style/main.css">
    <script src="../../build/aframe-core.js"></script>
  </head>
  <body>
    <a-assets>
      <a-mixin id="wing" geometry="primitive: box; depth: .005; height: 1; width: 0.5"
                         material="color: red" pivot="-0.25 0 0" rotation="0 0 0"
                         scale="1 1.25 1"></a-mixin>
      <a-mixin id="flap" attribute="rotation" direction="alternate" fill="forward"
                         repeat="indefinite"></a-mixin>
    </a-assets>
    <a-scene stats="true">
      <!-- Camera. -->
      <a-object position="0 1.8 0">
        <a-object id="camera" camera="fov: 45" look-controls wasd-controls></a-object>
      </a-object>

      <!-- Skysphere. -->
      <a-object geometry="primitive: sphere; radius: 100"
                material="color: #335; shader: flat" scale="1 1 -1">
      </a-object>

      <!-- Butterfly with pivoting wings. -->
      <a-object position="0 2.5 -5">
        <a-animation attribute="rotation" to="0 360 0" fill="forward" dur="3000"
                     easing="linear" repeat="indefinite"></a-animation>
        <a-object rotation="0 90 0" position="2.5 0 0">
          <a-object rotation="-45 0 90">
            <a-object mixin="wing">
              <a-animation mixin="flap" to="0 120 0"></a-animation>
            </a-object>
          </a-object>
          <a-object rotation="-45 0 90">
            <a-object mixin="wing">
              <a-animation mixin="flap" to="0 -120 0"></a-animation>
            </a-object>
          </a-object>
        </a-object>
      </a-object>
    </a-scene>
  </body>
</html>
